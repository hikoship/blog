<!doctype html><html><head><meta charset=utf-8><meta name=generator content="Hugo 0.134.0"><meta name=keywords content="the great garage,hiko,hikoship,blog"><meta name=description content><meta name=author content="hiko, hikoship"><meta name=viewport content="width=device-width,initial-scale=1"><link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,600' rel=stylesheet type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/pygments.css><link rel=icon type=image/png href=images/favicon.png><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-55878990-3","auto"),ga("send","pageview")</script><title>2023 年，再试一试使用 Notion 随时随地写博客 - The Great Garage</title></head><body><div class=container><header align=center class=nav><div id=top-bar></div><a href=/><img id=img-title src=/images/logo.png alt="The Great Garage - Logo"></a><div class=row><div class="twelve columns" style=margin-top:0><a href=/post>Posts</a><span class=divider> ✢ </span><a href=/categories>Categories</a><span class=divider> ✢ </span><a href=/collection>Collection</a><span class=divider> ✢ </span><a href=/about>About</a></div></div></header><main role=main><article><header class=meta align=center><h2>2023 年，再试一试使用 Notion 随时随地写博客</h2><div><time datetime=2023-03-25>2023/03/25</time>
<span class=divider>· </span><span><a href=/categories/tech>Tech</a></span></div></header><div class=content><p><img src=https://live.staticflickr.com/65535/52767786944_e6ab7435ae_o.jpg alt=IMAGE></p><p>两年前写过一篇<a href=%7B%7B%3C%20ref%20%22notion-blog-anywhere%22%20%3E%7D%7D>博文</a>，讨论如何将 Notion 上的文章转换成 Markdown，并部署到自己的博客上。当时使用的是非官方的 Notion API，需要经常更新 token 才能获取数据，不稳定也不够自动化。发完那篇文章不久，我的 token 就挂了，自此再也没管它，也再没有发过文章。后来，<a href=https://developers.notion.com/>Notion 发布了官方的 API</a>，最近终于抽空玩了玩。登上了一年半未曾登录的 VPS，写一写这个两年没有更新的博客，顺便捡起阔别六年的 JavaScript。</p><p>Notion API 本身是可以通过 HTTP 协议直接调用的，没有语言的限制。与此同时，Notion 也发布了一个<a href=https://github.com/makenotion/notion-sdk-js>基于 Node.js 的 SDK</a>，相当于给 API 套了一层壳，可以简化一些调用。我当时脑子没转过来这个弯，误以为一定要用 Node 才能调用 API，于是选择了 JavaScript 作为开发语言，而不是我更熟悉的 Python。对于这个决定我不后悔，因为学一学 JavaScript 不是坏事，无非多踩点坑（JS 坑之多可谓臭名昭著），开发速度慢一些。但另一方面，这也说明了不写需求文档的坏处🙃。</p><p>通过 API 拿到数据后，下一步是把文章转换成 Markdown。其中比较复杂的是嵌套列表的转换，需要递归调用一些函数。我觉得这比我在工作中写的业务逻辑都复杂，可以当作一个不错的算法面试题。</p><p>其余部分没有什么难度，主要时间都花在 debug 上。这个过程中，ChatGPT 多次解答了我的疑问，从 Node 里的常见函数调用，到复杂一些的 Promise 概念，再到帮我逐步分析解决了一个我毫无头绪的 bug - 这是 ChatGPT 横空出世半年来，我第一次高密度地与它互动，切身感受到了它的便捷。</p><p>现在，这段两百行的小程序基本已经开发完成，正作为一个 cron job 定期运行，自动发布 Notion 上新增的文章。它的代码在 <a href=https://github.com/hikoship/notion2hugo>GitHub</a> 上。对了，这也是我时隔多年后再次使用 GitHub。</p><p>从上周五到现在，我每天晚上都花几个小时，投入在这上面。我的业余时间变得久违地快乐、激动和充实。鬼鬼有点困惑不解：为什么我这个一年写不了两篇文章的博客，会值得投入这么多时间精力，手动发布不也挺简单的吗？</p><p>我也说不准。或许首先，这个网站寄托着我的一部分精神和历史，像是我的一个「魂器」。我很珍惜它。个人网站是开放互联网最后的几颗遗珠。在这里，我尚有一些掌控权和自由度。任何人都能无门槛访问它，但又只能主动来访。它不需要注册登录，但也永远不会自动出现在时间线推送里。这种特质让我觉得安全又不孤独。因为珍惜，我愿意付出十分的努力，多打磨出一分的改进。</p><p>另一方面，我单纯喜欢写代码，喜欢用代码作为工具发明创造，尤其是在写代码时间不多的今天。</p><p>最后，我也是真的希望，可以随时随地写博客。</p></div></article><hr><div id=disqus_thread></div><script type=text/javascript>var disqus_shortname="gaohongyuan";(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></main></div><footer class=footer><div align=center>Favs・
<a href=http://gaocegege.com/Blog/>高策</a> |
<a href=https://dlyang.me/>LanternD</a> |
<a href=https://www.lattespirit.com/>Lattespirit</a> |
<a href=http://blog.ikow.cn/>kow</a><br><br>&copy; 2015 - 2019 <a href=http://hgao.net>HiKo</a><br>Powered by <a href=http://gohugo.io/>Hugo</a> ・ Hosted on <a href=https://m.do.co/c/a383f1ca8bde>DigitalOcean</a></div></footer></body></html>